# S3 (`s3`)

Write events to a S3 bucket.


## Contents

- [Fields](#fields)
- [Authentication](#authentication)
- [Location](#location)
- [Object Properties](#object-properties)




## Fields


| Field | Type | Required | Description |
|---|---|:---:|---|
| `retry` | [`Retry`](#retry-fields) |  | How to retry failed requests. |
| `batch` | [`Batch`](#batch-fields) |  | Batching input events together. |
| `input-field` | `event-field` (`string`) |  | Use the specified field as the content for the object. |
| `bucket-name` | `string` | ✅ | Bucket Name. |
| `object-name` | `s3_output:object-name` | ✅ | Name of object, either as text or from a field. |
| `mode` | [`Mode`](#mode-options) |  | Put or delete the object? Default is Put. |
| `preprocessors` | [`Preprocessors`](#preprocessors-options) |  | Preprocessors (process data before making it available for upload) these processors will be run in the order they are specified. |
| `track-schema` | `boolean` (`bool`) |  | Check the schema of the written data and update __SCHEMA_NUMBER (written data must be JSON). |
| `scuba` | [`Scuba`](#scuba-fields) |  | If this Job is sending data to Scuba Lite, optionally have the Job configure the Scuba Lite instance. |



## Authentication

<details>
<summary>Authentication</summary>


| Field | Type | Required | Description |
|---|---|:---:|---|
| `access-key` | `string` |  | Access Key ID. |
| `secret-key` | `string` |  | Secret Key ID. |
| `security-token` | `string` |  | Security Token. |
| `session-token` | `string` |  | Session Token. |
| `role-arn` | `string` |  | A Role ARN for assuming role using above credentials. |

</details>



## Location

<details>
<summary>Location</summary>


| Field | Type | Required | Description |
|---|---|:---:|---|
| `region` | `string` |  | S3 Region. |
| `endpoint` | `string` |  | S3 Endpoint, if needed. |

</details>



## Object Properties

<details>
<summary>Object Properties</summary>


| Field | Type | Required | Description |
|---|---|:---:|---|
| `disable-object-name-guid` | `boolean` (`bool`) |  | Disable the GUID prefix if you want object name to be treated literally (off for deletes). |
| `guid-prefix` | `string` |  | GUID Prefix, will be prepended to the GUID, the default value is "/". |
| `guid-suffix` | `string` |  | GUID Suffix, will be appended to the GUID if specified. |

</details>





<h3 id="retry-fields">Retry Fields</h3>

| Field | Type | Required | Description |
|---|---|:---:|---|
| `count` | [`integer`](../types/retry-count.md#retry-count) | ❌ | How to retry? Either forever or for a limited number of times. |
| `pause` | [`string`](../types/retry-pause.md#retry-pause) | ❌ | How long to pause before re-trying. |



<h3 id="batch-fields">Batch Fields</h3>

| Field | Type | Required | Description |
|---|---|:---:|---|
| `fixed-size` | [`integer`](../types/batch-out-fixed-size.md#batch-out-fixed-size) | ❌ | maximum number of events in an output batch. |
| `mode` | [`symbol`](../types/batch-out-mode.md#batch-out-mode) | ✅ | If 'document' send on end of document generated by input. If 'fixed', use `fixed_size`. |
| `timeout` | [`string`](../types/batch-out-timeout.md#batch-out-timeout) | ✅ | interval after which the batch is sent, to keep throughput going (default 100ms). |
| `header` | [`string`](../types/batch-out-header.md#batch-out-header) | ❌ | put a header line before the batch. |
| `footer` | [`string`](../types/batch-out-footer.md#batch-out-footer) | ❌ | put a header line after the last line of the batch. |
| `use-document-marker` | [`bool`](../types/batch-out-use-document-marker.md#batch-out-use-document-marker) | ❌ | Enrich the job metadata with a document marker (for document handling in batch mode). |
| `wrap-as-json` | [`bool`](../types/batch-out-wrap-as-json.md#batch-out-wrap-as-json) | ❌ | Format the output batch as a JSON array. |



<h3 id="scuba-fields">Scuba Fields</h3>

| Field | Type | Required | Description |
|---|---|:---:|---|
| `host` | [`string`](../types/string.md#string) | ✅ | The Scuba Lite instance (for example: `https://scuba-lite.example.com`). |
| `insecure` | [`bool`](../types/s3-output-scuba-insecure.md#s3-output-scuba-insecure) | ✅ | Allow self-signed certificates for Scuba Lite connections. |
| `token` | [`string`](../types/string.md#string) | ✅ | The Scuba Lite API token. |
| `table-name` | [`string`](../types/string.md#string) | ✅ | The Scuba Lite table name. |
| `file-pattern` | [`string`](../types/string.md#string) | ✅ | The Scuba Lite file search pattern. |
| `columns` | [`object`](../types/s3-output-scuba-columns.md#s3-output-scuba-columns) | ✅ | The columns specified by name and type. |





<h3 id="mode-options">Mode Options</h3>

| Value | Name | Description |
|---|---|---|
| `put` | put | Put Objects |
| `delete` | delete | Delete Objects |



<h3 id="preprocessors-options">Preprocessors Options</h3>

| Value | Name | Description |
|---|---|---|
| `gzip` | gzip | Gzip the output data |
| `parquet` | parquet | Extract the received data as JSON rows from a parquet file |
| `base64` | base64 | Decode base64 as binary |




---
Prev: [Print](print.md)  
Next: [Splunk HEC](splunk-hec.md)  
